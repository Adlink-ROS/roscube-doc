

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Ubuntu 20.04 for NVIDIA &mdash; roscube-doc 0.9.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> roscube-doc
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../roscube-x/index.html">ROScube-X series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../roscube-pico/index.html">ROScube-Pico series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../roscube-i/index.html">ROScube-I series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../neuronsdk/index.html">Neuron SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../support_software/index.html">Supported Software</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">roscube-doc</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>Ubuntu 20.04 for NVIDIA</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/nvidia/advanced/ubuntu20_for_nvidia.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="ubuntu-20-04-for-nvidia">
<h1>Ubuntu 20.04 for NVIDIA<a class="headerlink" href="#ubuntu-20-04-for-nvidia" title="Permalink to this headline">¶</a></h1>
<p>NVIDIA Jetpack 4.x is based on Ubuntu 18.04, and it’s inconvenient when we want to use Ubuntu 20.04.
For example, the LTS of ROS 1 noetic and ROS 2 foxy only support Ubuntu 20.04.
There are many NVIDIA and ROS users struggling with the problem.
Before NVIDIA Jetpack 5, which is Ubuntu 20.04, is released,
docker container is a good solution to the issue.</p>
<p>However, there are too many tricky settings to run container on NVIDIA platform, especially when you want to use CUDA.
To simplify the usage, ADLINK provides the following guide to install containers.</p>
<div class="section" id="flash-the-image">
<h2>Flash the image<a class="headerlink" href="#flash-the-image" title="Permalink to this headline">¶</a></h2>
<p>Download Jetpack 4.6 from ADLINK official website and flash the ROScube.
Follow the tutorial based on your ROScube platform:</p>
<ul class="simple">
<li><p>ROScube-X: <a class="reference external" href="https://adlink-ros.github.io/roscube-doc/roscube-x/flash_image/flash_mfi.html">https://adlink-ros.github.io/roscube-doc/roscube-x/flash_image/flash_mfi.html</a></p></li>
<li><p>ROScube-Pico (board level): <a class="reference external" href="https://adlink-ros.github.io/roscube-doc/roscube-pico/flash_image/board_level_flash.html">https://adlink-ros.github.io/roscube-doc/roscube-pico/flash_image/board_level_flash.html</a></p></li>
<li><p>ROScube-Pico (system level): <a class="reference external" href="https://adlink-ros.github.io/roscube-doc/roscube-pico/flash_image/system_level_flash.html">https://adlink-ros.github.io/roscube-doc/roscube-pico/flash_image/system_level_flash.html</a></p></li>
</ul>
</div>
<div class="section" id="extend-the-storage">
<h2>Extend the storage<a class="headerlink" href="#extend-the-storage" title="Permalink to this headline">¶</a></h2>
<p>The default storage of NVIDIA SOM is not enough (especially for ROScube-Pico),
it’s highly recommended to extend your storage with SD card / NVMe.</p>
<p>Please refer to <a class="reference external" href="https://adlink-ros.github.io/roscube-doc/roscube-pico/nvidia/advanced/mount_on_external_storage/index.html">Mount rootfs on External Storage</a> to extend your storage.</p>
</div>
<div class="section" id="install-cuda-library">
<h2>Install CUDA library<a class="headerlink" href="#install-cuda-library" title="Permalink to this headline">¶</a></h2>
<p>Although we use the container, we still need to install the CUDA library on the native host.
Then share the CUDA library with the container.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt update
sudo apt install nvidia-cuda nvidia-l4t-cuda
</pre></div>
</div>
</div>
<div class="section" id="install-neuron-startup-menu">
<h2>Install Neuron Startup Menu<a class="headerlink" href="#install-neuron-startup-menu" title="Permalink to this headline">¶</a></h2>
<p>ADLINK provides the docker image with ROS/ROS2 environment inside.
You can use the image by installing Neuron Startup Menu.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sh -c <span class="s2">&quot;MENU_CONFIG=ros_menu_20.04_container.yaml USE_CONTAINER=True </span><span class="k">$(</span>curl -fsSL https://raw.githubusercontent.com/Adlink-ROS/ros_menu/main/scripts/setup.sh<span class="k">)</span><span class="s2">&quot;</span>
</pre></div>
</div>
<p>Set the docker privilege</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt install docker.io
sudo groupadd docker
sudo gpasswd -a <span class="nv">$USER</span> docker
sudo reboot
</pre></div>
</div>
<p>When you open a new terminal, it’ll show which kind of envrionment you want to run.
For more information, refer to <a class="reference external" href="https://adlink-ros.github.io/roscube-doc/neuronsdk/neuron_startup_menu/installation.html">Neuron Startup Menu</a>.</p>
</div>
<div class="section" id="install-necessary-packages-for-the-container">
<h2>Install necessary packages for the container<a class="headerlink" href="#install-necessary-packages-for-the-container" title="Permalink to this headline">¶</a></h2>
<p>Since NVIDIA CUDA from Jetpack 4.6 has some limitation to run in Ubuntu 20.04 container,
we still need to do the following settings.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># CUDA 10.2 only supports gcc8 and g++8</span>
sudo apt update
sudo apt install gcc-8 g++-8
sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-8 <span class="m">8</span>
sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-8 <span class="m">8</span>
<span class="c1"># Install libcudnn8-dev</span>
sudo apt install libcudnn8-dev
</pre></div>
</div>
</div>
<div class="section" id="run-yolo-object-detection-example">
<h2>Run YOLO Object Detection example<a class="headerlink" href="#run-yolo-object-detection-example" title="Permalink to this headline">¶</a></h2>
<p>Now it works! You can try the <a class="reference external" href="https://adlink-ros.github.io/roscube-doc/roscube-pico/nvidia/packages/jetpack_sdk/jetpack_sdk_yolo.html">YOLO Object Detection example</a> now.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2022, ADLINK Autonomous Business Center

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>